<%= devise_error_messages! %>

<div class="w-100 w-80-m w-70-l center mt4 tiledbg">
  <div class="pa0 pa2-ns pa4-m pa5-l">
    <div class="center bg-white pa2 pa3-l">
      <div id="controls" class="cf w-100 bb b--silver mb3">
        <span class="fl">
          <a id="login-button" href="#"><h1 class="helvetica fw4 mb0 pr2 fl mr2 hover-blue blue bb b--navy">Log In</h1></a>
          <h1 class="mr6 mr2-ns helvetica fw4 mb0 pb1 pb0-ns pr2 fl silver">or</h1>
        </span>
        <span class="fl">
          <a id="signup-button" href="#"><h1 class="ml0 helvetica fw4 mb0 pr2 fl hover-blue navy mr2">Sign Up</h1></a>
          <h1 class="helvetica fw4 mb0 pr2 fl silver">with email</h1>
        </span>
      </div>

      <div id="login">
        <%= bootstrap_form_for(resource, as: resource_name, url: session_path(resource_name)) do |f| %>
          <%= f.email_field :email, autofocus: true %>
          <%= f.password_field :password, autocomplete: "off" %>

          <% if devise_mapping.rememberable? -%>
            <%= f.check_box :remember_me %>
          <% end -%>

          <%= f.submit "Log in" %>
        <% end %>

        <%= link_to "Forgot your password?", new_password_path(resource_name), class: 'link dib blue hover-navy f6 fw6 mt3' %>
      </div>

      <div id="signup" class="hidden">
        <%= bootstrap_form_for(resource, as: resource_name, url: registration_path(resource_name)) do |f| %>
          <%= f.text_field :username, autofocus: true %>
          <%= f.email_field :email %>
          <%= f.text_field :description %>
          <%= f.text_field :colortheme %>

          <% if @minimum_password_length %>
            <%= f.password_field :password, autocomplete: "off", label: "Password (" + @minimum_password_length.to_s + " characters minimum)" %>
          <% else %>
            <%= f.password_field :password, autocomplete: "off" %>
          <% end %>

          <%= f.password_field :password_confirmation, autocomplete: "off" %>

          <%= f.submit "Sign up" %>
        <% end %>
      </div>
    </div>
  </div>
</div>

<script>
$(document).ready(function() {
	$('#login-button').click(function() {
		event.preventDefault();

		// Show only the selected section
		$('#signup').addClass('hidden');
		$('#login').removeClass('hidden');

		// Highlight selected button
		$('#signup-button h1').addClass('navy');
		$('#signup-button h1').removeClass('blue bb b--navy');
		$('#login-button h1').addClass('blue bb b--navy');
		$('#login-button h1').removeClass('navy');
	});

	$('#signup-button').click(function() {
		event.preventDefault();

		// Show only the selected section
    $('#login').addClass('hidden');
		$('#signup').removeClass('hidden');

		// Highlight selected button
		$('#login-button h1').addClass('navy');
		$('#login-button h1').removeClass('blue bb b--navy');
		$('#signup-button h1').addClass('blue bb b--navy');
		$('#signup-button h1').removeClass('navy');
	});
});
</script>
